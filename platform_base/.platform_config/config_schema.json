{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "platform_base_config_schema",
  "title": "Platform Base Configuration Schema",
  "description": "JSON Schema for Platform Base configuration files",
  "type": "object",
  
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Platform version"
    },
    
    "development_mode": {
      "type": "boolean",
      "default": false
    },
    
    "debug_enabled": {
      "type": "boolean", 
      "default": false
    },
    
    "telemetry_enabled": {
      "type": "boolean",
      "default": true
    },
    
    "logging": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"],
          "default": "INFO"
        },
        "file_enabled": {
          "type": "boolean",
          "default": true
        },
        "file_path": {
          "type": "string",
          "default": "logs/platform.log"
        },
        "max_file_size": {
          "type": "integer",
          "minimum": 1024,
          "default": 10485760
        },
        "backup_count": {
          "type": "integer",
          "minimum": 1,
          "default": 5
        },
        "console_enabled": {
          "type": "boolean",
          "default": true
        },
        "format": {
          "type": "string"
        }
      },
      "required": ["level"]
    },
    
    "ui": {
      "type": "object",
      "properties": {
        "theme": {
          "type": "string",
          "enum": ["light", "dark", "auto"],
          "default": "dark"
        },
        "language": {
          "type": "string",
          "pattern": "^[a-z]{2}$",
          "default": "en"
        },
        "auto_save_interval": {
          "type": "integer",
          "minimum": 60,
          "default": 300
        },
        "max_recent_files": {
          "type": "integer", 
          "minimum": 1,
          "default": 10
        },
        "window_geometry": {
          "type": "object",
          "properties": {
            "x": {"type": "integer"},
            "y": {"type": "integer"},
            "width": {"type": "integer", "minimum": 400},
            "height": {"type": "integer", "minimum": 300},
            "maximized": {"type": "boolean"}
          }
        },
        "performance_mode": {
          "type": "boolean",
          "default": false
        }
      }
    },
    
    "processing": {
      "type": "object",
      "properties": {
        "max_workers": {
          "type": "integer",
          "minimum": 1,
          "maximum": 16,
          "default": 4
        },
        "memory_limit_mb": {
          "type": "integer",
          "minimum": 512,
          "default": 2048
        },
        "chunk_size": {
          "type": "integer",
          "minimum": 100,
          "default": 10000
        },
        "enable_numba": {
          "type": "boolean",
          "default": true
        },
        "cache_enabled": {
          "type": "boolean", 
          "default": true
        },
        "cache_size_mb": {
          "type": "integer",
          "minimum": 64,
          "default": 256
        }
      }
    },
    
    "visualization": {
      "type": "object",
      "properties": {
        "default_renderer": {
          "type": "string",
          "enum": ["opengl", "software"],
          "default": "opengl"
        },
        "max_points_plot": {
          "type": "integer",
          "minimum": 1000,
          "default": 1000000
        },
        "enable_antialiasing": {
          "type": "boolean",
          "default": true
        },
        "fps_limit": {
          "type": "integer",
          "minimum": 30,
          "maximum": 120,
          "default": 60
        },
        "background_color": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "default": "#2b2b2b"
        },
        "grid_enabled": {
          "type": "boolean",
          "default": true
        }
      }
    },
    
    "plugins": {
      "type": "object",
      "properties": {
        "discovery_enabled": {
          "type": "boolean",
          "default": true
        },
        "auto_load_trusted": {
          "type": "boolean",
          "default": true
        },
        "sandbox_level": {
          "type": "string",
          "enum": ["strict", "moderate", "relaxed"],
          "default": "moderate"
        },
        "max_plugins": {
          "type": "integer",
          "minimum": 1,
          "default": 50
        },
        "timeout_seconds": {
          "type": "number",
          "minimum": 1.0,
          "default": 30.0
        },
        "max_memory_mb": {
          "type": "number",
          "minimum": 32.0,
          "default": 256.0
        }
      }
    },
    
    "data": {
      "type": "object",
      "properties": {
        "supported_formats": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "import_settings": {
          "type": "object",
          "properties": {
            "auto_detect_encoding": {"type": "boolean"},
            "default_encoding": {"type": "string"},
            "max_file_size_mb": {"type": "integer", "minimum": 1},
            "chunk_size": {"type": "integer", "minimum": 100}
          }
        },
        "export_settings": {
          "type": "object",
          "properties": {
            "default_format": {"type": "string"},
            "compression_enabled": {"type": "boolean"},
            "precision_digits": {"type": "integer", "minimum": 1, "maximum": 15}
          }
        }
      }
    }
  },
  
  "required": ["version"],
  
  "additionalProperties": true,
  
  "examples": [
    {
      "version": "2.0.0",
      "development_mode": false,
      "logging": {
        "level": "INFO",
        "file_enabled": true
      },
      "ui": {
        "theme": "dark",
        "language": "en"
      },
      "processing": {
        "max_workers": 4,
        "memory_limit_mb": 2048
      }
    }
  ]
}